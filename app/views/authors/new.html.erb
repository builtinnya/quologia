<header class="page-heading">
  <h3>著者登録</h3>
</header>

<%= form_for(@author, role: 'form') do |f| %>
  <% if @author.errors.any? %>
    <div class="alert">
      <h1>エラー</h1>
      <ul>
        <% @author.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="author-image">
      <% if @author.author_image? %>
        <%= image_tag @author.author_image.url %>
      <% else %>
        <%= fa_icon 'user', class: 'default-author-image' %>
      <% end %>
      <%= f.file_field :author_image %>
      <%= f.hidden_field :author_image_cache %>
    </div>
    <div class="author-profile">
      <div class="form-group author-name">
        <%= f.text_field :name, size: 25, class: ('error' if @author.errors[:name].any?), placeholder: t('activerecord.attributes.author.name') %>
      </div>
      <div class="form-group author-birthplace">
        <%= f.text_field :birthplace, size: 25, class: ('error' if @author.errors[:birthplace].any?), placeholder: t('activerecord.attributes.author.birthplace') %>
      </div>
      <div class="form-group author-birthday">
        <%= f.text_field :birthday, size: 25, class: ('error' if @author.errors[:birthday].any?), placeholder: t('activerecord.attributes.author.birthday') %>
      </div>
      <div class="form-group author-deathday">
        <%= f.text_field :deathday, size: 25, class: ('error' if @author.errors[:deathday].any?), placeholder: t('activerecord.attributes.author.deathday') %>
      </div>
    </div>
  </div>

  <div class="author-description">
    <%= f.text_area :description, rows: 8, class: ('error' if @author.errors[:description].any?), placeholder: t('activerecord.attributes.author.description') %>
  </div>

  <div class="submit">
    <%= f.submit '登録する', role: 'button', data: { disable_with: '登録中…' } %>
  </div>
<% end %>
